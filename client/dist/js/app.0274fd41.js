(function(){"use strict";var e={7598:function(e,a,t){var n=t(5130),o=t(6768);function l(e,a,t,n,l,i){const s=(0,o.g2)("manutencao-component");return(0,o.uX)(),(0,o.Wv)(s)}var i=t(4232),s=t.p+"img/maintenance.e4aaa9cb.png";const r={class:"container"},u={class:"wrapper"},c={class:"title"},d=(0,o.Lk)("h1",null,"TPM - Manual de Máquinas",-1),m={class:"pesquisa"},p={class:"select-lists"},h={class:"setor-select select"},f=(0,o.Lk)("p",null,"Selecione um Setor",-1),b={class:"maquina-select select"},k=(0,o.Lk)("p",null,"Selecione uma Máquina",-1),v={class:"cadastro-painel"},g={class:"main"},q={class:"escolher-categoria"},M=(0,o.Lk)("p",null,"Deseja aplicar um filtro?",-1),O={key:0,class:"maquinas-list"},C=["onClick"],L={key:0},S={class:"problemas-list"},_={key:1},y={class:"problemas-list"},F={class:"problema-item"},j={style:{color:"blue"}},w={key:1},V=(0,o.Lk)("h2",null,"Sem máquinas no setor!",-1),x=[V];function T(e,a,t,n,l,V){const T=(0,o.g2)("v-img"),E=(0,o.g2)("v-select"),X=(0,o.g2)("cadastro-maquinas-component"),I=(0,o.g2)("v-expansion-panel-text"),P=(0,o.g2)("v-expansion-panel"),U=(0,o.g2)("v-expansion-panels"),W=(0,o.g2)("v-btn");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("div",u,[(0,o.Lk)("div",c,[(0,o.bF)(T,{src:s}),d]),(0,o.Lk)("div",m,[(0,o.Lk)("div",p,[(0,o.Lk)("div",h,[f,(0,o.bF)(E,{color:"blue","list-props":{maxWidth:"300px"},clearable:"",class:"select",label:"Setores",items:l.listaSetores,modelValue:l.setor,"onUpdate:modelValue":a[0]||(a[0]=e=>l.setor=e)},null,8,["items","modelValue"])]),(0,o.Lk)("div",b,[k,(0,o.bF)(E,{color:"blue","list-props":{maxWidth:"300px"},clearable:"",class:"select",label:"Maquinas",items:l.listaMaquinas,modelValue:l.maquina,"onUpdate:modelValue":a[1]||(a[1]=e=>l.maquina=e)},null,8,["items","modelValue"])])]),(0,o.Lk)("div",v,[(0,o.bF)(U,{class:"expandir-button"},{default:(0,o.k6)((()=>[(0,o.bF)(P,{class:"cadastrar-maquina",title:"Cadastrar Máquina"},{default:(0,o.k6)((()=>[(0,o.bF)(I,null,{default:(0,o.k6)((()=>[(0,o.bF)(X)])),_:1})])),_:1})])),_:1})])]),(0,o.Lk)("div",g,[(0,o.Lk)("div",q,[M,(0,o.bF)(W,{class:(0,i.C4)([{active:"Mecânico"===l.filtroTipo},"categoria-mecanico"]),onClick:a[2]||(a[2]=e=>V.filtroDefeitos("Mecânico"))},{default:(0,o.k6)((()=>[(0,o.eW)("Mecânico")])),_:1},8,["class"]),(0,o.bF)(W,{class:(0,i.C4)([{active:"Operacional"===l.filtroTipo},"categoria-operacional"]),onClick:a[3]||(a[3]=e=>V.filtroDefeitos("Operacional"))},{default:(0,o.k6)((()=>[(0,o.eW)("Operacional")])),_:1},8,["class"])]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.maquinasObject,((a,t)=>((0,o.uX)(),(0,o.CE)("div",{class:"setores-list",key:t},[(0,o.Lk)("h1",null,(0,i.v_)(t),1),a?((0,o.uX)(),(0,o.CE)("div",O,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a,((a,n)=>((0,o.uX)(),(0,o.CE)("div",{class:"maquina",key:n},[(0,o.bF)(U,null,{default:(0,o.k6)((()=>[(0,o.bF)(P,{class:"toggle-button",title:n},{default:(0,o.k6)((()=>[(0,o.bF)(I,null,{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a,((a,l)=>((0,o.uX)(),(0,o.CE)("div",{class:"categoria",key:l},[(0,o.Lk)("h3",{onClick:a=>e.toggleCategoria(t,n,l)},null,8,C),(0,o.bF)(U,null,{default:(0,o.k6)((()=>[(0,o.bF)(P,{class:"toggle-button",title:l},{default:(0,o.k6)((()=>[(0,o.bF)(I,null,{default:(0,o.k6)((()=>[a.length>0?((0,o.uX)(),(0,o.CE)("div",L,[(0,o.Lk)("ul",S,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a,((e,a)=>((0,o.uX)(),(0,o.CE)("li",{class:"problema-item",key:a},[(0,o.Lk)("h4",null,(0,i.v_)(e),1),(0,o.bF)(T,{src:V.getIcon(e)},null,8,["src"])])))),128))])])):((0,o.uX)(),(0,o.CE)("div",_,[(0,o.Lk)("ul",y,[(0,o.Lk)("li",F,[(0,o.Lk)("h4",null,[(0,o.eW)(" Sem Informações Cadastradas para: "),(0,o.Lk)("span",j,(0,i.v_)(this.filtroTipo),1)])])])]))])),_:2},1024)])),_:2},1032,["title"])])),_:2},1024)])))),128))])),_:2},1024)])),_:2},1032,["title"])])),_:2},1024)])))),128))])):((0,o.uX)(),(0,o.CE)("div",w,x))])))),128))])])])}t(4114);var E=t.p+"img/mecanico-icon.e4aaa9cb.png",X=t.p+"img/operador-icon.a73dd0b3.png",I=t(4373);const P=e=>((0,o.Qi)("data-v-e6b199c6"),e=e(),(0,o.jt)(),e),U=P((()=>(0,o.Lk)("h2",null,"TPM - Cadastro de Máquinas",-1))),W=P((()=>(0,o.Lk)("p",null,"Nome da Máquina",-1))),$=P((()=>(0,o.Lk)("p",null,"Selecione os Setores que a Máquina trabalha",-1))),A={class:"radio-buttons-container"},R={class:"radio-button"},D=["name","id","onUpdate:modelValue"],N=["for"],J=P((()=>(0,o.Lk)("span",{class:"radio-button__custom"},null,-1))),K={class:"radio-button"},B=["name","id","onUpdate:modelValue"],Q=["for"],z=P((()=>(0,o.Lk)("span",{class:"radio-button__custom"},null,-1))),G={class:"textarea-container"},H=P((()=>(0,o.Lk)("div",{class:"tooltip"},"Separe os items com espaço!",-1))),Y=P((()=>(0,o.Lk)("p",null,"Checklist",-1))),Z={class:"textarea-container"},ee=P((()=>(0,o.Lk)("div",{class:"tooltip"},"Separe os items com espaço!",-1))),ae={class:"d-flex flex-column mt-4"};function te(e,a,t,l,s,r){const u=(0,o.g2)("v-text-field"),c=(0,o.g2)("v-select"),d=(0,o.g2)("v-textarea"),m=(0,o.g2)("v-btn"),p=(0,o.g2)("v-form"),h=(0,o.g2)("v-sheet");return(0,o.uX)(),(0,o.Wv)(h,{class:"mx-auto",width:"100%","max-width":"900"},{default:(0,o.k6)((()=>[U,(0,o.bF)(p,{ref:"form"},{default:(0,o.k6)((()=>[W,(0,o.bF)(u,{class:"input",variant:"outlined",modelValue:s.nomeMaquina,"onUpdate:modelValue":a[0]||(a[0]=e=>s.nomeMaquina=e),counter:30,rules:s.campoRegra,label:"Nome da Máquina",required:"",outlined:""},null,8,["modelValue","rules"]),$,(0,o.bF)(c,{class:"input",variant:"outlined",modelValue:s.setorSelecionado,"onUpdate:modelValue":a[1]||(a[1]=e=>s.setorSelecionado=e),items:s.setores,rules:s.campoRegra,label:"Setor/Setores",multiple:"",required:"",clearable:"",outlined:""},null,8,["modelValue","items","rules"]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.problemas,((e,a)=>((0,o.uX)(),(0,o.CE)("div",{key:a,class:"cadastro-problema mb-3"},[(0,o.Lk)("p",null,"Defeito "+(0,i.v_)(a+1),1),(0,o.bF)(u,{class:"input",modelValue:e.name,"onUpdate:modelValue":a=>e.name=a,counter:30,rules:s.campoRegra,label:"Nome do Defeito",variant:"outlined",required:"",outlined:""},null,8,["modelValue","onUpdate:modelValue","rules"]),(0,o.Lk)("div",A,[(0,o.Lk)("div",R,[(0,o.bo)((0,o.Lk)("input",{name:"radio-group-"+a,id:"radio-mecanico-"+a,class:"radio-button__input",value:"Mecânico","onUpdate:modelValue":a=>e.tipo=a,type:"radio"},null,8,D),[[n.XL,e.tipo]]),(0,o.Lk)("label",{for:"radio-mecanico-"+a,class:"radio-button__label"},[J,(0,o.eW)(" Mecânico ")],8,N)]),(0,o.Lk)("div",K,[(0,o.bo)((0,o.Lk)("input",{name:"radio-group-"+a,id:"radio-operacional-"+a,class:"radio-button__input",value:"Operacional","onUpdate:modelValue":a=>e.tipo=a,type:"radio"},null,8,B),[[n.XL,e.tipo]]),(0,o.Lk)("label",{for:"radio-operacional-"+a,class:"radio-button__label"},[z,(0,o.eW)(" Operacional ")],8,Q)])]),(0,o.Lk)("p",null,"Soluções para o Defeito "+(0,i.v_)(a+1),1),(0,o.Lk)("div",G,[(0,o.bF)(d,{class:"input custom-textarea",modelValue:e.defeitos,"onUpdate:modelValue":a=>e.defeitos=a,label:"Soluções","row-height":"30",rows:"5",variant:"outlined",rules:s.campoRegra,"auto-grow":"",shaped:"",required:"",outlined:""},null,8,["modelValue","onUpdate:modelValue","rules"]),H])])))),128)),(0,o.bF)(m,{class:"btn add",onClick:r.addProblema},{default:(0,o.k6)((()=>[(0,o.eW)("Adicionar Defeito")])),_:1},8,["onClick"]),Y,(0,o.Lk)("div",Z,[(0,o.bF)(d,{class:"input custom-textarea",modelValue:s.checklistItens,"onUpdate:modelValue":a[2]||(a[2]=e=>s.checklistItens=e),label:"Itens para Verificar","row-height":"30",rules:s.campoRegra,rows:"5",variant:"outlined","auto-grow":"",shaped:"",required:"",outlined:""},null,8,["modelValue","rules"]),ee]),(0,o.Lk)("div",ae,[(0,o.bF)(m,{class:"btn cadastro",block:"",onClick:r.validate},{default:(0,o.k6)((()=>[(0,o.eW)("Cadastrar")])),_:1},8,["onClick"]),(0,o.bF)(m,{class:"btn reset",block:"",onClick:r.reset},{default:(0,o.k6)((()=>[(0,o.eW)("Resetar Cadastro")])),_:1},8,["onClick"])])])),_:1},512)])),_:1})}var ne={data(){return{nomeMaquina:null,setorSelecionado:null,setores:["Montagem","Costura","Corte Automático","Serigrafia","Bordado","Apoio","Lavagem","Pré Solado"],problemas:[{name:null,defeitos:null,tipo:null}],csrfToken:"",campoRegra:[e=>!!e||"Este Campo é Obrigatório!"],checklistItens:null,newManual:{}}},mounted(){this.getCsrfToken()},methods:{addProblema(){this.problemas.push({name:null,defeitos:null,tipo:null})},async getCsrfToken(){try{const e=await I.A.get("http://localhost:3000/csrf-token",{withCredentials:!0});this.csrfToken=e.data.csrfToken,I.A.defaults.headers.common["X-CSRF-Token"]=this.csrfToken}catch(e){console.error("Erro ao obter o token CSRF:",e)}},validate(){this.$refs.form.validate()&&null!==this.setorSelecionado&&this.setorSelecionado.length>0&&null!==this.nomeMaquina&&null!==this.checklistItens&&this.problemas.length>0&&(this.newManual={},this.setorSelecionado.forEach((e=>{this.newManual[e]={},this.newManual[e][this.nomeMaquina]={},this.newManual[e][this.nomeMaquina]["Itens a verificar"]=[];for(let t=0;t<this.problemas.length;t++){let a=this.problemas[t].defeitos.split("\n");this.newManual[e][this.nomeMaquina][`Defeito ${t+1} - ${this.problemas[t].name}`]=[];for(let n=0;n<a.length;n++)""===a[n]&&void 0===a[n]||this.newManual[e][this.nomeMaquina][`Defeito ${t+1} - ${this.problemas[t].name}`].push(`${n+1} - ${a[n]} (${this.problemas[t].tipo})`)}const a=this.checklistItens.split("\n");for(let t=0;t<a.length;t++)""!==a[t]&&this.newManual[e][this.nomeMaquina]["Itens a verificar"].push(`${t+1} - ${a[t]}`)})),this.submit())},submit(){I.A.post("http://localhost:3000/cadastro-maquina",this.newManual,{headers:{"X-CSRF-Token":this.csrfToken},withCredentials:!0}).then((e=>{console.log("Resposta do server:",e.data),alert("Máquina cadastrada com Sucesso!"),this.reset()})).catch((e=>{console.error("Erro:",e)}))},reset(){this.$refs.form.reset(),this.problemas=[{name:"",defeitos:""}]}}},oe=t(1241);const le=(0,oe.A)(ne,[["render",te],["__scopeId","data-v-e6b199c6"]]);var ie=le,se={name:"ManutencaoComponent",components:{CadastroMaquinasComponent:ie},data(){return{setor:null,maquina:null,listaSetores:[],listaMaquinas:[],maquinasObject:{},maquinasObjectOriginal:{},filtroTipo:null,checkbox:!1,model:null}},mounted(){this.queryMaquinas()},watch:{setor(e){this.maquina=null,this.updateListaMaquinas(e),this.updatePesquisaMaquinas(e),e||(this.maquinasObject=JSON.parse(JSON.stringify(this.maquinasObjectOriginal)))},maquina(e){this.updatePesquisaMaquinas(e)}},methods:{queryMaquinas(){I.A.get("http://localhost:3000/api/manual_maqs").then((e=>{this.maquinasObject=e.data,this.maquinasObjectOriginal=JSON.parse(JSON.stringify(this.maquinasObject)),Object.keys(this.maquinasObject).forEach((e=>{this.listaSetores.push(e)})),this.setor&&this.updateListaMaquinas(this.setor)})).catch((e=>{console.error("Error:",e)})),this.setor=null,this.maquina=null},updateListaMaquinas(e){this.listaMaquinas=[],this.listaMaquinas=this.maquinasObjectOriginal[e]?Object.keys(this.maquinasObjectOriginal[e]):[]},updatePesquisaMaquinas(){this.maquinasObject=JSON.parse(JSON.stringify(this.maquinasObjectOriginal));const e={};for(const a in this.maquinasObject)if(!this.setor||this.setor===a){e[a]={};for(const t in this.maquinasObject[a])if(!this.maquina||this.maquina===t){e[a][t]={};for(const n in this.maquinasObject[a][t])e[a][t][n]=[...this.maquinasObject[a][t][n]],this.filtroTipo&&(e[a][t][n]=e[a][t][n].filter((e=>e.includes(this.filtroTipo))))}}this.maquinasObject=e},filtroDefeitos(e){this.filtroTipo===e?this.filtroTipo=null:this.filtroTipo=e,this.updatePesquisaMaquinas()},getIcon(e){return e.includes("Mecânico")?E:e.includes("Operacional")?X:""}}};const re=(0,oe.A)(se,[["render",T]]);var ue=re,ce={name:"App",components:{ManutencaoComponent:ue}};const de=(0,oe.A)(ce,[["render",l]]);var me=de,pe=t(7768),he=t(1920),fe=t(5741);t(5524);const be=(0,pe.$N)({components:he,directives:fe}),ke=(0,n.Ef)(me);ke.use(be),ke.mount("#app")}},a={};function t(n){var o=a[n];if(void 0!==o)return o.exports;var l=a[n]={exports:{}};return e[n].call(l.exports,l,l.exports,t),l.exports}t.m=e,function(){var e=[];t.O=function(a,n,o,l){if(!n){var i=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],l=e[c][2];for(var s=!0,r=0;r<n.length;r++)(!1&l||i>=l)&&Object.keys(t.O).every((function(e){return t.O[e](n[r])}))?n.splice(r--,1):(s=!1,l<i&&(i=l));if(s){e.splice(c--,1);var u=o();void 0!==u&&(a=u)}}return a}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[n,o,l]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,n){var o,l,i=n[0],s=n[1],r=n[2],u=0;if(i.some((function(a){return 0!==e[a]}))){for(o in s)t.o(s,o)&&(t.m[o]=s[o]);if(r)var c=r(t)}for(a&&a(n);u<i.length;u++)l=i[u],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(c)},n=self["webpackChunkmanutencao"]=self["webpackChunkmanutencao"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],(function(){return t(7598)}));n=t.O(n)})();
//# sourceMappingURL=app.0274fd41.js.map